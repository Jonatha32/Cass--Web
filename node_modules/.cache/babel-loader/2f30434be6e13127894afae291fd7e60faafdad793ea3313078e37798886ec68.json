{"ast":null,"code":"import _objectSpread from\"c:/casse-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../hooks/useAuth';import{messagesService}from'../services/messagesService';import{userService}from'../services/userService';import{MessageCircle,Send,Search,User,Clock}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MessagesPage=()=>{const{user}=useAuth();const[conversations,setConversations]=useState([]);const[selectedChat,setSelectedChat]=useState(null);const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[searchTerm,setSearchTerm]=useState('');const[loading,setLoading]=useState(true);const[unsubscribeConversations,setUnsubscribeConversations]=useState(null);const[unsubscribeMessages,setUnsubscribeMessages]=useState(null);// Datos fake para demostración\nconst fakeConversations=[{id:'1',participantName:'Carlos Tech',participantId:'user1',lastMessage:'¿Sigue disponible el iPhone?',lastMessageTime:new Date(Date.now()-1000*60*30),unreadCount:2,productTitle:'iPhone 13 Pro Max',avatar:null},{id:'2',participantName:'Ana Mobile',participantId:'user3',lastMessage:'Perfecto, nos vemos mañana',lastMessageTime:new Date(Date.now()-1000*60*60*2),unreadCount:0,productTitle:'Samsung Galaxy S23',avatar:null},{id:'3',participantName:'Gaming Pro',participantId:'user5',lastMessage:'¿Incluye los juegos?',lastMessageTime:new Date(Date.now()-1000*60*60*24),unreadCount:1,productTitle:'PlayStation 5',avatar:null}];const fakeMessages={'1':[{id:'1',senderId:'user1',senderName:'Carlos Tech',message:'Hola, ¿sigue disponible el iPhone?',timestamp:new Date(Date.now()-1000*60*60),isMe:false},{id:'2',senderId:user===null||user===void 0?void 0:user.uid,senderName:(user===null||user===void 0?void 0:user.displayName)||'Tú',message:'Sí, está disponible. ¿Te interesa?',timestamp:new Date(Date.now()-1000*60*45),isMe:true},{id:'3',senderId:'user1',senderName:'Carlos Tech',message:'¿Podríamos vernos para revisarlo?',timestamp:new Date(Date.now()-1000*60*30),isMe:false}]};useEffect(()=>{if(user){loadConversations();}return()=>{if(unsubscribeConversations)unsubscribeConversations();if(unsubscribeMessages)unsubscribeMessages();};},[user]);const loadConversations=async()=>{try{setLoading(true);// Suscribirse a conversaciones en tiempo real\nconst unsubscribe=messagesService.subscribeToConversations(user.uid,async conversations=>{// Enriquecer conversaciones con datos de usuarios\nconst enrichedConversations=await Promise.all(conversations.map(async conv=>{const otherUserId=conv.participants.find(p=>p!==user.uid);if(otherUserId){try{const otherUser=await userService.getUserById(otherUserId);return _objectSpread(_objectSpread({},conv),{},{participantName:(otherUser===null||otherUser===void 0?void 0:otherUser.name)||'Usuario',participantId:otherUserId,avatar:otherUser===null||otherUser===void 0?void 0:otherUser.photoUrl});}catch(error){return _objectSpread(_objectSpread({},conv),{},{participantName:'Usuario',participantId:otherUserId,avatar:null});}}return conv;}));setConversations(enrichedConversations);setLoading(false);});setUnsubscribeConversations(()=>unsubscribe);// Si no hay conversaciones, usar datos fake como fallback\nsetTimeout(()=>{if(conversations.length===0){setConversations(fakeConversations);setLoading(false);}},2000);}catch(error){console.error('Error loading conversations:',error);setConversations(fakeConversations);setLoading(false);}};const handleSendMessage=async()=>{if(!newMessage.trim()||!selectedChat)return;try{await messagesService.sendMessage(selectedChat.id,user.uid,user.displayName||user.email,newMessage);setNewMessage('');}catch(error){console.error('Error sending message:',error);toast.error('Error al enviar mensaje');}};const selectChat=async conversation=>{setSelectedChat(conversation);// Limpiar suscripción anterior\nif(unsubscribeMessages){unsubscribeMessages();}try{// Suscribirse a mensajes en tiempo real\nconst unsubscribe=messagesService.subscribeToMessages(conversation.id,messages=>{const processedMessages=messages.map(msg=>{var _msg$timestamp;return _objectSpread(_objectSpread({},msg),{},{isMe:msg.senderId===user.uid,timestamp:((_msg$timestamp=msg.timestamp)===null||_msg$timestamp===void 0?void 0:_msg$timestamp.toDate())||new Date()});});setMessages(processedMessages);});setUnsubscribeMessages(()=>unsubscribe);// Marcar mensajes como leídos\nawait messagesService.markAsRead(conversation.id,user.uid);}catch(error){console.error('Error loading messages:',error);// Usar mensajes fake como fallback\nsetMessages(fakeMessages[conversation.id]||[]);}};const formatTime=date=>{const now=new Date();const diff=now-date;if(diff<1000*60*60){return\"\".concat(Math.floor(diff/(1000*60)),\"m\");}else if(diff<1000*60*60*24){return\"\".concat(Math.floor(diff/(1000*60*60)),\"h\");}else{return date.toLocaleDateString();}};const filteredConversations=conversations.filter(conv=>conv.participantName.toLowerCase().includes(searchTerm.toLowerCase())||conv.productTitle.toLowerCase().includes(searchTerm.toLowerCase()));if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Debes iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Inicia sesi\\xF3n para ver tus mensajes\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#205781] text-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-8 h-8\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Mensajes\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-100 mt-1\",children:[conversations.length,\" conversaciones\"]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg overflow-hidden\",style:{height:'70vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/3 border-r border-gray-200 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar conversaciones...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#205781] focus:border-transparent\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:filteredConversations.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-12 h-12 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No hay conversaciones\"})]}):filteredConversations.map(conversation=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>selectChat(conversation),className:\"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors \".concat((selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===conversation.id?'bg-blue-50 border-l-4 border-l-[#205781]':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center flex-shrink-0\",children:/*#__PURE__*/_jsx(User,{className:\"w-6 h-6 text-[#205781]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-800 truncate\",children:conversation.participantName}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:formatTime(conversation.lastMessageTime)}),conversation.unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\",children:conversation.unreadCount})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-1 truncate\",children:conversation.productTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 truncate\",children:conversation.lastMessage})]})]})},conversation.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-[#205781]\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800\",children:selectedChat.participantName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:selectedChat.productTitle})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.isMe?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-2 rounded-2xl \".concat(message.isMe?'bg-[#205781] text-white':'bg-gray-200 text-gray-800'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:message.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end mt-1 space-x-1\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3 opacity-70\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs opacity-70\",children:message.timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})]})]})},message.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSendMessage(),placeholder:\"Escribe un mensaje...\",className:\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-[#205781] focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!newMessage.trim(),className:\"bg-[#205781] text-white p-2 rounded-full hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"})})]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-16 h-16 text-gray-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-600 mb-2\",children:\"Selecciona una conversaci\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Elige una conversaci\\xF3n para comenzar a chatear\"})]})})})]})})})]});};export default MessagesPage;","map":{"version":3,"names":["React","useState","useEffect","useAuth","messagesService","userService","MessageCircle","Send","Search","User","Clock","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MessagesPage","user","conversations","setConversations","selectedChat","setSelectedChat","messages","setMessages","newMessage","setNewMessage","searchTerm","setSearchTerm","loading","setLoading","unsubscribeConversations","setUnsubscribeConversations","unsubscribeMessages","setUnsubscribeMessages","fakeConversations","id","participantName","participantId","lastMessage","lastMessageTime","Date","now","unreadCount","productTitle","avatar","fakeMessages","senderId","senderName","message","timestamp","isMe","uid","displayName","loadConversations","unsubscribe","subscribeToConversations","enrichedConversations","Promise","all","map","conv","otherUserId","participants","find","p","otherUser","getUserById","_objectSpread","name","photoUrl","error","setTimeout","length","console","handleSendMessage","trim","sendMessage","email","selectChat","conversation","subscribeToMessages","processedMessages","msg","_msg$timestamp","toDate","markAsRead","formatTime","date","diff","concat","Math","floor","toLocaleDateString","filteredConversations","filter","toLowerCase","includes","className","children","style","height","type","placeholder","value","onChange","e","target","onClick","toLocaleTimeString","hour","minute","onKeyPress","key","disabled"],"sources":["c:/casse-web/src/pages/MessagesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { messagesService } from '../services/messagesService';\nimport { userService } from '../services/userService';\nimport { MessageCircle, Send, Search, User, Clock } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst MessagesPage = () => {\n  const { user } = useAuth();\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [unsubscribeConversations, setUnsubscribeConversations] = useState(null);\n  const [unsubscribeMessages, setUnsubscribeMessages] = useState(null);\n\n  // Datos fake para demostración\n  const fakeConversations = [\n    {\n      id: '1',\n      participantName: 'Carlos Tech',\n      participantId: 'user1',\n      lastMessage: '¿Sigue disponible el iPhone?',\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 30),\n      unreadCount: 2,\n      productTitle: 'iPhone 13 Pro Max',\n      avatar: null\n    },\n    {\n      id: '2',\n      participantName: 'Ana Mobile',\n      participantId: 'user3',\n      lastMessage: 'Perfecto, nos vemos mañana',\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 2),\n      unreadCount: 0,\n      productTitle: 'Samsung Galaxy S23',\n      avatar: null\n    },\n    {\n      id: '3',\n      participantName: 'Gaming Pro',\n      participantId: 'user5',\n      lastMessage: '¿Incluye los juegos?',\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 24),\n      unreadCount: 1,\n      productTitle: 'PlayStation 5',\n      avatar: null\n    }\n  ];\n\n  const fakeMessages = {\n    '1': [\n      {\n        id: '1',\n        senderId: 'user1',\n        senderName: 'Carlos Tech',\n        message: 'Hola, ¿sigue disponible el iPhone?',\n        timestamp: new Date(Date.now() - 1000 * 60 * 60),\n        isMe: false\n      },\n      {\n        id: '2',\n        senderId: user?.uid,\n        senderName: user?.displayName || 'Tú',\n        message: 'Sí, está disponible. ¿Te interesa?',\n        timestamp: new Date(Date.now() - 1000 * 60 * 45),\n        isMe: true\n      },\n      {\n        id: '3',\n        senderId: 'user1',\n        senderName: 'Carlos Tech',\n        message: '¿Podríamos vernos para revisarlo?',\n        timestamp: new Date(Date.now() - 1000 * 60 * 30),\n        isMe: false\n      }\n    ]\n  };\n\n  useEffect(() => {\n    if (user) {\n      loadConversations();\n    }\n    \n    return () => {\n      if (unsubscribeConversations) unsubscribeConversations();\n      if (unsubscribeMessages) unsubscribeMessages();\n    };\n  }, [user]);\n\n  const loadConversations = async () => {\n    try {\n      setLoading(true);\n      \n      // Suscribirse a conversaciones en tiempo real\n      const unsubscribe = messagesService.subscribeToConversations(\n        user.uid,\n        async (conversations) => {\n          // Enriquecer conversaciones con datos de usuarios\n          const enrichedConversations = await Promise.all(\n            conversations.map(async (conv) => {\n              const otherUserId = conv.participants.find(p => p !== user.uid);\n              if (otherUserId) {\n                try {\n                  const otherUser = await userService.getUserById(otherUserId);\n                  return {\n                    ...conv,\n                    participantName: otherUser?.name || 'Usuario',\n                    participantId: otherUserId,\n                    avatar: otherUser?.photoUrl\n                  };\n                } catch (error) {\n                  return {\n                    ...conv,\n                    participantName: 'Usuario',\n                    participantId: otherUserId,\n                    avatar: null\n                  };\n                }\n              }\n              return conv;\n            })\n          );\n          \n          setConversations(enrichedConversations);\n          setLoading(false);\n        }\n      );\n      \n      setUnsubscribeConversations(() => unsubscribe);\n      \n      // Si no hay conversaciones, usar datos fake como fallback\n      setTimeout(() => {\n        if (conversations.length === 0) {\n          setConversations(fakeConversations);\n          setLoading(false);\n        }\n      }, 2000);\n      \n    } catch (error) {\n      console.error('Error loading conversations:', error);\n      setConversations(fakeConversations);\n      setLoading(false);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !selectedChat) return;\n\n    try {\n      await messagesService.sendMessage(\n        selectedChat.id,\n        user.uid,\n        user.displayName || user.email,\n        newMessage\n      );\n      \n      setNewMessage('');\n    } catch (error) {\n      console.error('Error sending message:', error);\n      toast.error('Error al enviar mensaje');\n    }\n  };\n\n  const selectChat = async (conversation) => {\n    setSelectedChat(conversation);\n    \n    // Limpiar suscripción anterior\n    if (unsubscribeMessages) {\n      unsubscribeMessages();\n    }\n    \n    try {\n      // Suscribirse a mensajes en tiempo real\n      const unsubscribe = messagesService.subscribeToMessages(\n        conversation.id,\n        (messages) => {\n          const processedMessages = messages.map(msg => ({\n            ...msg,\n            isMe: msg.senderId === user.uid,\n            timestamp: msg.timestamp?.toDate() || new Date()\n          }));\n          setMessages(processedMessages);\n        }\n      );\n      \n      setUnsubscribeMessages(() => unsubscribe);\n      \n      // Marcar mensajes como leídos\n      await messagesService.markAsRead(conversation.id, user.uid);\n      \n    } catch (error) {\n      console.error('Error loading messages:', error);\n      // Usar mensajes fake como fallback\n      setMessages(fakeMessages[conversation.id] || []);\n    }\n  };\n\n  const formatTime = (date) => {\n    const now = new Date();\n    const diff = now - date;\n    \n    if (diff < 1000 * 60 * 60) {\n      return `${Math.floor(diff / (1000 * 60))}m`;\n    } else if (diff < 1000 * 60 * 60 * 24) {\n      return `${Math.floor(diff / (1000 * 60 * 60))}h`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  const filteredConversations = conversations.filter(conv =>\n    conv.participantName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    conv.productTitle.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <MessageCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">\n            Debes iniciar sesión\n          </h2>\n          <p className=\"text-gray-600\">\n            Inicia sesión para ver tus mensajes\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-[#205781] text-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center space-x-3\">\n            <MessageCircle className=\"w-8 h-8\" />\n            <div>\n              <h1 className=\"text-3xl font-bold\">Mensajes</h1>\n              <p className=\"text-blue-100 mt-1\">\n                {conversations.length} conversaciones\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\" style={{ height: '70vh' }}>\n          <div className=\"flex h-full\">\n            {/* Sidebar - Lista de conversaciones */}\n            <div className=\"w-1/3 border-r border-gray-200 flex flex-col\">\n              {/* Search */}\n              <div className=\"p-4 border-b border-gray-200\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Buscar conversaciones...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#205781] focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              {/* Conversations List */}\n              <div className=\"flex-1 overflow-y-auto\">\n                {filteredConversations.length === 0 ? (\n                  <div className=\"p-8 text-center\">\n                    <MessageCircle className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                    <p className=\"text-gray-500\">No hay conversaciones</p>\n                  </div>\n                ) : (\n                  filteredConversations.map((conversation) => (\n                    <div\n                      key={conversation.id}\n                      onClick={() => selectChat(conversation)}\n                      className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${\n                        selectedChat?.id === conversation.id ? 'bg-blue-50 border-l-4 border-l-[#205781]' : ''\n                      }`}\n                    >\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"w-12 h-12 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center flex-shrink-0\">\n                          <User className=\"w-6 h-6 text-[#205781]\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center justify-between\">\n                            <h3 className=\"text-sm font-semibold text-gray-800 truncate\">\n                              {conversation.participantName}\n                            </h3>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-xs text-gray-500\">\n                                {formatTime(conversation.lastMessageTime)}\n                              </span>\n                              {conversation.unreadCount > 0 && (\n                                <span className=\"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\">\n                                  {conversation.unreadCount}\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mb-1 truncate\">\n                            {conversation.productTitle}\n                          </p>\n                          <p className=\"text-sm text-gray-600 truncate\">\n                            {conversation.lastMessage}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n\n            {/* Chat Area */}\n            <div className=\"flex-1 flex flex-col\">\n              {selectedChat ? (\n                <>\n                  {/* Chat Header */}\n                  <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-10 h-10 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center\">\n                        <User className=\"w-5 h-5 text-[#205781]\" />\n                      </div>\n                      <div>\n                        <h3 className=\"font-semibold text-gray-800\">\n                          {selectedChat.participantName}\n                        </h3>\n                        <p className=\"text-sm text-gray-500\">\n                          {selectedChat.productTitle}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Messages */}\n                  <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                    {messages.map((message) => (\n                      <div\n                        key={message.id}\n                        className={`flex ${message.isMe ? 'justify-end' : 'justify-start'}`}\n                      >\n                        <div\n                          className={`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${\n                            message.isMe\n                              ? 'bg-[#205781] text-white'\n                              : 'bg-gray-200 text-gray-800'\n                          }`}\n                        >\n                          <p className=\"text-sm\">{message.message}</p>\n                          <div className=\"flex items-center justify-end mt-1 space-x-1\">\n                            <Clock className=\"w-3 h-3 opacity-70\" />\n                            <span className=\"text-xs opacity-70\">\n                              {message.timestamp.toLocaleTimeString([], {\n                                hour: '2-digit',\n                                minute: '2-digit'\n                              })}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n\n                  {/* Message Input */}\n                  <div className=\"p-4 border-t border-gray-200\">\n                    <div className=\"flex items-center space-x-3\">\n                      <input\n                        type=\"text\"\n                        value={newMessage}\n                        onChange={(e) => setNewMessage(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                        placeholder=\"Escribe un mensaje...\"\n                        className=\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-[#205781] focus:border-transparent\"\n                      />\n                      <button\n                        onClick={handleSendMessage}\n                        disabled={!newMessage.trim()}\n                        className=\"bg-[#205781] text-white p-2 rounded-full hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        <Send className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div className=\"flex-1 flex items-center justify-center\">\n                  <div className=\"text-center\">\n                    <MessageCircle className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-gray-600 mb-2\">\n                      Selecciona una conversación\n                    </h3>\n                    <p className=\"text-gray-500\">\n                      Elige una conversación para comenzar a chatear\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
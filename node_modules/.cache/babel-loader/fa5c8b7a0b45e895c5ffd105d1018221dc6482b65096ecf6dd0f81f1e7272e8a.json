{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\Carpeta de Pruebas - Holberton\\\\casse-web\\\\src\\\\pages\\\\MessagesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { MessageCircle, Send, Search, User, Clock } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MessagesPage = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Datos fake para demostración\n  const fakeConversations = [{\n    id: '1',\n    participantName: 'Carlos Tech',\n    participantId: 'user1',\n    lastMessage: '¿Sigue disponible el iPhone?',\n    lastMessageTime: new Date(Date.now() - 1000 * 60 * 30),\n    unreadCount: 2,\n    productTitle: 'iPhone 13 Pro Max',\n    avatar: null\n  }, {\n    id: '2',\n    participantName: 'Ana Mobile',\n    participantId: 'user3',\n    lastMessage: 'Perfecto, nos vemos mañana',\n    lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 2),\n    unreadCount: 0,\n    productTitle: 'Samsung Galaxy S23',\n    avatar: null\n  }, {\n    id: '3',\n    participantName: 'Gaming Pro',\n    participantId: 'user5',\n    lastMessage: '¿Incluye los juegos?',\n    lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 24),\n    unreadCount: 1,\n    productTitle: 'PlayStation 5',\n    avatar: null\n  }];\n  const fakeMessages = {\n    '1': [{\n      id: '1',\n      senderId: 'user1',\n      senderName: 'Carlos Tech',\n      message: 'Hola, ¿sigue disponible el iPhone?',\n      timestamp: new Date(Date.now() - 1000 * 60 * 60),\n      isMe: false\n    }, {\n      id: '2',\n      senderId: user === null || user === void 0 ? void 0 : user.uid,\n      senderName: (user === null || user === void 0 ? void 0 : user.displayName) || 'Tú',\n      message: 'Sí, está disponible. ¿Te interesa?',\n      timestamp: new Date(Date.now() - 1000 * 60 * 45),\n      isMe: true\n    }, {\n      id: '3',\n      senderId: 'user1',\n      senderName: 'Carlos Tech',\n      message: '¿Podríamos vernos para revisarlo?',\n      timestamp: new Date(Date.now() - 1000 * 60 * 30),\n      isMe: false\n    }]\n  };\n  useEffect(() => {\n    if (user) {\n      setConversations(fakeConversations);\n    }\n  }, [user]);\n  const handleSendMessage = () => {\n    if (!newMessage.trim() || !selectedChat) return;\n    const message = {\n      id: Date.now().toString(),\n      senderId: user.uid,\n      senderName: user.displayName || 'Tú',\n      message: newMessage,\n      timestamp: new Date(),\n      isMe: true\n    };\n    setMessages(prev => [...prev, message]);\n    setNewMessage('');\n    toast.success('Mensaje enviado');\n  };\n  const selectChat = conversation => {\n    setSelectedChat(conversation);\n    setMessages(fakeMessages[conversation.id] || []);\n  };\n  const formatTime = date => {\n    const now = new Date();\n    const diff = now - date;\n    if (diff < 1000 * 60 * 60) {\n      return `${Math.floor(diff / (1000 * 60))}m`;\n    } else if (diff < 1000 * 60 * 60 * 24) {\n      return `${Math.floor(diff / (1000 * 60 * 60))}h`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n  const filteredConversations = conversations.filter(conv => conv.participantName.toLowerCase().includes(searchTerm.toLowerCase()) || conv.productTitle.toLowerCase().includes(searchTerm.toLowerCase()));\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n          className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-4\",\n          children: \"Debes iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Inicia sesi\\xF3n para ver tus mensajes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-[#205781] text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n            className: \"w-8 h-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold\",\n              children: \"Mensajes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-100 mt-1\",\n              children: [conversations.length, \" conversaciones\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-lg overflow-hidden\",\n        style: {\n          height: '70vh'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/3 border-r border-gray-200 flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Buscar conversaciones...\",\n                  value: searchTerm,\n                  onChange: e => setSearchTerm(e.target.value),\n                  className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#205781] focus:border-transparent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 overflow-y-auto\",\n              children: filteredConversations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-8 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                  className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"No hay conversaciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this) : filteredConversations.map(conversation => /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => selectChat(conversation),\n                className: `p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${(selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat.id) === conversation.id ? 'bg-blue-50 border-l-4 border-l-[#205781]' : ''}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-12 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center flex-shrink-0\",\n                    children: /*#__PURE__*/_jsxDEV(User, {\n                      className: \"w-6 h-6 text-[#205781]\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"text-sm font-semibold text-gray-800 truncate\",\n                        children: conversation.participantName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-gray-500\",\n                          children: formatTime(conversation.lastMessageTime)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 31\n                        }, this), conversation.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\",\n                          children: conversation.unreadCount\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mb-1 truncate\",\n                      children: conversation.productTitle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 truncate\",\n                      children: conversation.lastMessage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this)\n              }, conversation.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 flex flex-col\",\n            children: selectedChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 border-b border-gray-200 bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-10 h-10 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(User, {\n                      className: \"w-5 h-5 text-[#205781]\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-semibold text-gray-800\",\n                      children: selectedChat.participantName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: selectedChat.productTitle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex ${message.isMe ? 'justify-end' : 'justify-start'}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${message.isMe ? 'bg-[#205781] text-white' : 'bg-gray-200 text-gray-800'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm\",\n                      children: message.message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-end mt-1 space-x-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        className: \"w-3 h-3 opacity-70\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs opacity-70\",\n                        children: message.timestamp.toLocaleTimeString([], {\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 25\n                  }, this)\n                }, message.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 border-t border-gray-200\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: newMessage,\n                    onChange: e => setNewMessage(e.target.value),\n                    onKeyPress: e => e.key === 'Enter' && handleSendMessage(),\n                    placeholder: \"Escribe un mensaje...\",\n                    className: \"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-[#205781] focus:border-transparent\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleSendMessage,\n                    disabled: !newMessage.trim(),\n                    className: \"bg-[#205781] text-white p-2 rounded-full hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: /*#__PURE__*/_jsxDEV(Send, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                  className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-600 mb-2\",\n                  children: \"Selecciona una conversaci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500\",\n                  children: \"Elige una conversaci\\xF3n para comenzar a chatear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(MessagesPage, \"5oDNfxIDu/1ttVHcmXK8rerHodw=\", false, function () {\n  return [useAuth];\n});\n_c = MessagesPage;\nexport default MessagesPage;\nvar _c;\n$RefreshReg$(_c, \"MessagesPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","MessageCircle","Send","Search","User","Clock","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","MessagesPage","_s","user","conversations","setConversations","selectedChat","setSelectedChat","messages","setMessages","newMessage","setNewMessage","searchTerm","setSearchTerm","fakeConversations","id","participantName","participantId","lastMessage","lastMessageTime","Date","now","unreadCount","productTitle","avatar","fakeMessages","senderId","senderName","message","timestamp","isMe","uid","displayName","handleSendMessage","trim","toString","prev","success","selectChat","conversation","formatTime","date","diff","Math","floor","toLocaleDateString","filteredConversations","filter","conv","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","style","height","type","placeholder","value","onChange","e","target","map","onClick","toLocaleTimeString","hour","minute","onKeyPress","key","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Desktop/Carpeta de Pruebas - Holberton/casse-web/src/pages/MessagesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { MessageCircle, Send, Search, User, Clock } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst MessagesPage = () => {\n  const { user } = useAuth();\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Datos fake para demostración\n  const fakeConversations = [\n    {\n      id: '1',\n      participantName: 'Carlos Tech',\n      participantId: 'user1',\n      lastMessage: '¿Sigue disponible el iPhone?',\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 30),\n      unreadCount: 2,\n      productTitle: 'iPhone 13 Pro Max',\n      avatar: null\n    },\n    {\n      id: '2',\n      participantName: 'Ana Mobile',\n      participantId: 'user3',\n      lastMessage: 'Perfecto, nos vemos mañana',\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 2),\n      unreadCount: 0,\n      productTitle: 'Samsung Galaxy S23',\n      avatar: null\n    },\n    {\n      id: '3',\n      participantName: 'Gaming Pro',\n      participantId: 'user5',\n      lastMessage: '¿Incluye los juegos?',\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 24),\n      unreadCount: 1,\n      productTitle: 'PlayStation 5',\n      avatar: null\n    }\n  ];\n\n  const fakeMessages = {\n    '1': [\n      {\n        id: '1',\n        senderId: 'user1',\n        senderName: 'Carlos Tech',\n        message: 'Hola, ¿sigue disponible el iPhone?',\n        timestamp: new Date(Date.now() - 1000 * 60 * 60),\n        isMe: false\n      },\n      {\n        id: '2',\n        senderId: user?.uid,\n        senderName: user?.displayName || 'Tú',\n        message: 'Sí, está disponible. ¿Te interesa?',\n        timestamp: new Date(Date.now() - 1000 * 60 * 45),\n        isMe: true\n      },\n      {\n        id: '3',\n        senderId: 'user1',\n        senderName: 'Carlos Tech',\n        message: '¿Podríamos vernos para revisarlo?',\n        timestamp: new Date(Date.now() - 1000 * 60 * 30),\n        isMe: false\n      }\n    ]\n  };\n\n  useEffect(() => {\n    if (user) {\n      setConversations(fakeConversations);\n    }\n  }, [user]);\n\n  const handleSendMessage = () => {\n    if (!newMessage.trim() || !selectedChat) return;\n\n    const message = {\n      id: Date.now().toString(),\n      senderId: user.uid,\n      senderName: user.displayName || 'Tú',\n      message: newMessage,\n      timestamp: new Date(),\n      isMe: true\n    };\n\n    setMessages(prev => [...prev, message]);\n    setNewMessage('');\n    toast.success('Mensaje enviado');\n  };\n\n  const selectChat = (conversation) => {\n    setSelectedChat(conversation);\n    setMessages(fakeMessages[conversation.id] || []);\n  };\n\n  const formatTime = (date) => {\n    const now = new Date();\n    const diff = now - date;\n    \n    if (diff < 1000 * 60 * 60) {\n      return `${Math.floor(diff / (1000 * 60))}m`;\n    } else if (diff < 1000 * 60 * 60 * 24) {\n      return `${Math.floor(diff / (1000 * 60 * 60))}h`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  const filteredConversations = conversations.filter(conv =>\n    conv.participantName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    conv.productTitle.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <MessageCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">\n            Debes iniciar sesión\n          </h2>\n          <p className=\"text-gray-600\">\n            Inicia sesión para ver tus mensajes\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-[#205781] text-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center space-x-3\">\n            <MessageCircle className=\"w-8 h-8\" />\n            <div>\n              <h1 className=\"text-3xl font-bold\">Mensajes</h1>\n              <p className=\"text-blue-100 mt-1\">\n                {conversations.length} conversaciones\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\" style={{ height: '70vh' }}>\n          <div className=\"flex h-full\">\n            {/* Sidebar - Lista de conversaciones */}\n            <div className=\"w-1/3 border-r border-gray-200 flex flex-col\">\n              {/* Search */}\n              <div className=\"p-4 border-b border-gray-200\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Buscar conversaciones...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#205781] focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              {/* Conversations List */}\n              <div className=\"flex-1 overflow-y-auto\">\n                {filteredConversations.length === 0 ? (\n                  <div className=\"p-8 text-center\">\n                    <MessageCircle className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\n                    <p className=\"text-gray-500\">No hay conversaciones</p>\n                  </div>\n                ) : (\n                  filteredConversations.map((conversation) => (\n                    <div\n                      key={conversation.id}\n                      onClick={() => selectChat(conversation)}\n                      className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${\n                        selectedChat?.id === conversation.id ? 'bg-blue-50 border-l-4 border-l-[#205781]' : ''\n                      }`}\n                    >\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"w-12 h-12 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center flex-shrink-0\">\n                          <User className=\"w-6 h-6 text-[#205781]\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center justify-between\">\n                            <h3 className=\"text-sm font-semibold text-gray-800 truncate\">\n                              {conversation.participantName}\n                            </h3>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-xs text-gray-500\">\n                                {formatTime(conversation.lastMessageTime)}\n                              </span>\n                              {conversation.unreadCount > 0 && (\n                                <span className=\"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center\">\n                                  {conversation.unreadCount}\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mb-1 truncate\">\n                            {conversation.productTitle}\n                          </p>\n                          <p className=\"text-sm text-gray-600 truncate\">\n                            {conversation.lastMessage}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n\n            {/* Chat Area */}\n            <div className=\"flex-1 flex flex-col\">\n              {selectedChat ? (\n                <>\n                  {/* Chat Header */}\n                  <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-10 h-10 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center\">\n                        <User className=\"w-5 h-5 text-[#205781]\" />\n                      </div>\n                      <div>\n                        <h3 className=\"font-semibold text-gray-800\">\n                          {selectedChat.participantName}\n                        </h3>\n                        <p className=\"text-sm text-gray-500\">\n                          {selectedChat.productTitle}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Messages */}\n                  <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                    {messages.map((message) => (\n                      <div\n                        key={message.id}\n                        className={`flex ${message.isMe ? 'justify-end' : 'justify-start'}`}\n                      >\n                        <div\n                          className={`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${\n                            message.isMe\n                              ? 'bg-[#205781] text-white'\n                              : 'bg-gray-200 text-gray-800'\n                          }`}\n                        >\n                          <p className=\"text-sm\">{message.message}</p>\n                          <div className=\"flex items-center justify-end mt-1 space-x-1\">\n                            <Clock className=\"w-3 h-3 opacity-70\" />\n                            <span className=\"text-xs opacity-70\">\n                              {message.timestamp.toLocaleTimeString([], {\n                                hour: '2-digit',\n                                minute: '2-digit'\n                              })}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n\n                  {/* Message Input */}\n                  <div className=\"p-4 border-t border-gray-200\">\n                    <div className=\"flex items-center space-x-3\">\n                      <input\n                        type=\"text\"\n                        value={newMessage}\n                        onChange={(e) => setNewMessage(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                        placeholder=\"Escribe un mensaje...\"\n                        className=\"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-[#205781] focus:border-transparent\"\n                      />\n                      <button\n                        onClick={handleSendMessage}\n                        disabled={!newMessage.trim()}\n                        className=\"bg-[#205781] text-white p-2 rounded-full hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        <Send className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div className=\"flex-1 flex items-center justify-center\">\n                  <div className=\"text-center\">\n                    <MessageCircle className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold text-gray-600 mb-2\">\n                      Selecciona una conversación\n                    </h3>\n                    <p className=\"text-gray-500\">\n                      Elige una conversación para comenzar a chatear\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessagesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
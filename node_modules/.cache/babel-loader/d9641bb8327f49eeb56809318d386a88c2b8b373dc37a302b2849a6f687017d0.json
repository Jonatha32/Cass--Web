{"ast":null,"code":"import React,{useState}from'react';import{Heart,User,Edit,Trash2}from'lucide-react';import{useAuth}from'../hooks/useAuth';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{var _product$precio;let{product,onFavorite,onEdit,onDelete,isFavorite,onClick}=_ref;const{user}=useAuth();const[imageError,setImageError]=useState(false);const isOwner=user&&user.uid===product.ownerId;const handleFavorite=()=>{if(!user){toast.error('Debes iniciar sesiÃ³n para agregar favoritos');return;}onFavorite(product.uuid);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer\",onClick:onClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-56 bg-gray-200\",children:[product.fotos&&product.fotos.length>0&&!imageError?/*#__PURE__*/_jsx(\"img\",{src:product.fotos[0],alt:product.titulo,className:\"w-full h-full object-cover\",onError:()=>setImageError(true)}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 text-6xl\",children:\"\\uD83D\\uDCF1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 bg-[#205781] text-white px-3 py-1 rounded-full shadow-lg\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[\"$\",(_product$precio=product.precio)===null||_product$precio===void 0?void 0:_product$precio.toFixed(2)]})}),user&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleFavorite();},className:\"absolute top-4 left-4 bg-white bg-opacity-90 p-2 rounded-full shadow-lg hover:bg-opacity-100 transition-all\",children:/*#__PURE__*/_jsx(Heart,{className:\"w-5 h-5 \".concat(isFavorite?'text-red-500 fill-current':'text-gray-600')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-2 line-clamp-2\",children:product.titulo}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:product.descripcion}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[product.ownerName&&/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();window.location.href=\"/profile/\".concat(product.ownerId);},className:\"flex items-center space-x-2 hover:bg-gray-50 rounded-lg p-1 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-[#205781]\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:product.ownerName})]}),isOwner&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onEdit(product);},className:\"p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 transition-colors\",children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onDelete(product.uuid);},className:\"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})]})]});};export default ProductCard;","map":{"version":3,"names":["React","useState","Heart","User","Edit","Trash2","useAuth","toast","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","_product$precio","product","onFavorite","onEdit","onDelete","isFavorite","onClick","user","imageError","setImageError","isOwner","uid","ownerId","handleFavorite","error","uuid","className","children","fotos","length","src","alt","titulo","onError","precio","toFixed","e","stopPropagation","concat","descripcion","ownerName","window","location","href"],"sources":["c:/Users/Usuario/Desktop/Carpeta de Pruebas - Holberton/casse-web/src/components/ProductCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Heart, User, Edit, Trash2 } from 'lucide-react';\nimport { useAuth } from '../hooks/useAuth';\nimport toast from 'react-hot-toast';\n\nconst ProductCard = ({ product, onFavorite, onEdit, onDelete, isFavorite, onClick }) => {\n  const { user } = useAuth();\n  const [imageError, setImageError] = useState(false);\n  const isOwner = user && user.uid === product.ownerId;\n\n  const handleFavorite = () => {\n    if (!user) {\n      toast.error('Debes iniciar sesiÃ³n para agregar favoritos');\n      return;\n    }\n    onFavorite(product.uuid);\n  };\n\n  return (\n    <div \n      className=\"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer\"\n      onClick={onClick}\n    >\n      {/* Image Section */}\n      <div className=\"relative h-56 bg-gray-200\">\n        {product.fotos && product.fotos.length > 0 && !imageError ? (\n          <img\n            src={product.fotos[0]}\n            alt={product.titulo}\n            className=\"w-full h-full object-cover\"\n            onError={() => setImageError(true)}\n          />\n        ) : (\n          <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-50\">\n            <div className=\"text-gray-400 text-6xl\">ðŸ“±</div>\n          </div>\n        )}\n        \n        {/* Price Tag */}\n        <div className=\"absolute top-4 right-4 bg-[#205781] text-white px-3 py-1 rounded-full shadow-lg\">\n          <span className=\"font-bold\">${product.precio?.toFixed(2)}</span>\n        </div>\n\n        {/* Favorite Button */}\n        {user && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              handleFavorite();\n            }}\n            className=\"absolute top-4 left-4 bg-white bg-opacity-90 p-2 rounded-full shadow-lg hover:bg-opacity-100 transition-all\"\n          >\n            <Heart\n              className={`w-5 h-5 ${isFavorite ? 'text-red-500 fill-current' : 'text-gray-600'}`}\n            />\n          </button>\n        )}\n      </div>\n\n      {/* Content Section */}\n      <div className=\"p-5\">\n        <h3 className=\"text-xl font-bold text-gray-800 mb-2 line-clamp-2\">\n          {product.titulo}\n        </h3>\n        \n        <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n          {product.descripcion}\n        </p>\n\n        {/* Owner Info and Actions */}\n        <div className=\"flex items-center justify-between\">\n          {product.ownerName && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                window.location.href = `/profile/${product.ownerId}`;\n              }}\n              className=\"flex items-center space-x-2 hover:bg-gray-50 rounded-lg p-1 transition-colors\"\n            >\n              <div className=\"w-8 h-8 bg-[#205781] bg-opacity-10 rounded-full flex items-center justify-center\">\n                <User className=\"w-4 h-4 text-[#205781]\" />\n              </div>\n              <span className=\"text-sm text-gray-600 font-medium\">\n                {product.ownerName}\n              </span>\n            </button>\n          )}\n\n          {/* Owner Actions */}\n          {isOwner && (\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onEdit(product);\n                }}\n                className=\"p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 transition-colors\"\n              >\n                <Edit className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onDelete(product.uuid);\n                }}\n                className=\"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}